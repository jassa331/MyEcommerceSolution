@* @page "/forgot-password"
@inject HttpClient Http

<h3>Forgot Password</h3>

<div class="forgot-container">
    <input type="email" placeholder="Enter your registered email" @bind="email" required />
    <button @onclick="SendResetLink">Send Reset Link</button>

    @if (!string.IsNullOrEmpty(message))
    {
        <p>@message</p>
    }
</div>

@code {
    private string email = "";
    private string message = "";

    private async Task SendResetLink()
    {
        message = "";

        if (string.IsNullOrWhiteSpace(email))
        {
            message = "⚠️ Please enter your email.";
            return;
        }

        try
        {
            var response = await Http.PostAsJsonAsync("https://localhost:7124/api/Account/forgot-password", new { Email = email });

            if (response.IsSuccessStatusCode)
            {
                message = "✅ Reset token sent to your email (for demo, shown in response).";
                var tokenResponse = await response.Content.ReadAsStringAsync();
                message += $" Token: {tokenResponse}";
            }
            else
            {
                var error = await response.Content.ReadAsStringAsync();
                message = $"❌ Failed: {error}";
            }
        }
        catch (Exception ex)
        {
            message = $"❌ Error: {ex.Message}";
        }
    }
}
 *@